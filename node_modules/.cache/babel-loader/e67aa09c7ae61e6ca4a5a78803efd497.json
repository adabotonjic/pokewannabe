{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _this=this;import{useLocation,useNavigate}from'react-router-dom';import axios from'axios';import React,{useState,useEffect,useRef}from'react';import About from'./About/About';//import Stats from './Stats/Stats'\nimport Evolution from'./Evolution/Evolution';import Moves from'./Moves/Moves';//import TitleComponent from './TitleComponent'\nimport'./PokemonDetail.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PokemonDetail=function PokemonDetail(){var search=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemons=_useState2[0],setPokemons=_useState2[1];var _useState3=useState(\"https://pokeapi.co/api/v2/pokemon\"),_useState4=_slicedToArray(_useState3,2),currentPageUrl=_useState4[0],setCurrentPageUrl=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),nextPageUrl=_useState6[0],setNextPageUrl=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){fetchPokemons();},[currentPageUrl]);state={name:\"\",imageUrl:\"\",pokemonIndex:\"\",imageLoading:true,toManyRequests:false};var name=\"Ada\";var url=window.location.href;var pokemonIndex=url.split(\"/\")[url.split(\"/\").length-1];console.log(pokemonIndex);var pokemonUrl=\"https://pokeapi.co/api/v2/pokemon/\".concat(pokemonIndex,\"/\");console.log(pokemonUrl);var imageUrl=\"https://github.com/PokeAPI/sprites/blob/master/sprites/pokemon/\".concat(pokemonIndex,\".png?raw=true\");_this.setState({name:name,imageUrl:imageUrl,pokemonIndex:pokemonIndex,pokemonUrl:pokemonUrl});var fetchPokemons=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,pageUrl,results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(currentPageUrl);case 2:response=_context.sent;pageUrl=window.location.href;console.log(pageUrl);console.log(response.data.results[0].url);_context.next=8;return Promise.all(response.data.results.map(function(res){return axios.get(res.url);}));case 8:results=_context.sent;console.log(results[0]);setNextPageUrl(response.data.next);setError(false);setPokemons(function(currentPokemons){return[].concat(_toConsumableArray(currentPokemons),_toConsumableArray(results.map(function(res){return{id:res.data.id,name:res.data.name,img:res.data.sprites.other.dream_world.front_default,abilities:res.data.abilities,types:res.data.types,height:res.data.height,weight:res.data.weight,moves:res.data.moves,stats:res.data.stats,species:res.data.species,base_experience:res.data.base_experience};})));});case 13:case\"end\":return _context.stop();}}},_callee);}));return function fetchPokemons(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"poke-container\",children:pokemons.map(function(pokemon){return/*#__PURE__*/_jsxs(\"div\",{className:\"poke-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"poke-img-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poke-img\",src:pokemon.img,alt:\"pokemon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"poke-name-container\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"poke-name\",children:pokemon.name})})]},pokemon.id);})});};export default PokemonDetail;","map":{"version":3,"names":["useLocation","useNavigate","axios","React","useState","useEffect","useRef","About","Evolution","Moves","PokemonDetail","search","pokemons","setPokemons","currentPageUrl","setCurrentPageUrl","nextPageUrl","setNextPageUrl","error","setError","fetchPokemons","state","name","imageUrl","pokemonIndex","imageLoading","toManyRequests","url","window","location","href","split","length","console","log","pokemonUrl","setState","get","response","pageUrl","data","results","Promise","all","map","res","next","currentPokemons","id","img","sprites","other","dream_world","front_default","abilities","types","height","weight","moves","stats","species","base_experience","pokemon"],"sources":["/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/src/Components/PokmonDetail/PokemonDetail.js"],"sourcesContent":["\nimport {useLocation, useNavigate} from 'react-router-dom'\nimport axios from 'axios';\nimport React, {useState, useEffect, useRef} from 'react'\n\nimport About from './About/About'\n//import Stats from './Stats/Stats'\nimport Evolution from './Evolution/Evolution'\nimport Moves from './Moves/Moves'\n//import TitleComponent from './TitleComponent'\nimport './PokemonDetail.css'\n\nconst PokemonDetail = () => {\n    \n    const search = useRef()\n    const [pokemons, setPokemons] = useState([])\n    const [currentPageUrl, setCurrentPageUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\")\n    const [nextPageUrl, setNextPageUrl] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        fetchPokemons()\n    }, [currentPageUrl])\n\n    state = {\n        name: \"\",\n        imageUrl: \"\",\n        pokemonIndex: \"\",\n        imageLoading: true,\n        toManyRequests: false\n      };\n    \n   \n        const name = \"Ada\";\n        \n        const url = window.location.href;\n        const pokemonIndex = url.split(\"/\")[url.split(\"/\").length - 1];\n        console.log(pokemonIndex);\n        const pokemonUrl = `https://pokeapi.co/api/v2/pokemon/${pokemonIndex}/`;\n        console.log(pokemonUrl);\n        const imageUrl = `https://github.com/PokeAPI/sprites/blob/master/sprites/pokemon/${pokemonIndex}.png?raw=true`;\n    \n        this.setState({ name, imageUrl, pokemonIndex, pokemonUrl });\n   \n    \n \n\n    const fetchPokemons = async () => {\n\n        const response = await axios.get(currentPageUrl)\n        const pageUrl =  window.location.href;\n \n        console.log(pageUrl);\n        console.log(response.data.results[0].url);\n        const results = await Promise.all(response.data.results.map(res => axios.get(res.url)))\n        console.log(results[0]);\n\n        setNextPageUrl(response.data.next)\n        setError(false)\n        setPokemons(currentPokemons => {\n            return [\n                ...currentPokemons,\n                ...results.map(res => (\n                    {\n                        id: res.data.id,\n                        name : res.data.name,\n                        img: res.data.sprites.other.dream_world.front_default,\n                        abilities : res.data.abilities,\n                        types : res.data.types,\n                        height : res.data.height,\n                        weight : res.data.weight,\n                        moves : res.data.moves,\n                        stats : res.data.stats,\n                        species : res.data.species,\n                        base_experience : res.data.base_experience\n                    }\n                ))\n            ]\n        })\n    }\n    return (\n        \n        <div className = \"poke-container\" >\n            {pokemons.map(pokemon => (\n                <div className=\"poke-card\"  key={pokemon.id} >\n                    <div className=\"poke-img-container\">\n                        <img className = \"poke-img\" src={pokemon.img} alt=\"pokemon\" />\n                    </div>\n                    <div className=\"poke-name-container\">\n                        <h4 className = \"poke-name\" >{pokemon.name}</h4>\n                    </div>\n                </div>\n                \n            ))}\n        </div>\n        \n    )\n}\n\n\nexport default PokemonDetail\n"],"mappings":"unBACA,OAAQA,WAAR,CAAqBC,WAArB,KAAuC,kBAAvC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,MAApC,KAAiD,OAAjD,CAEA,MAAOC,MAAP,KAAkB,eAAlB,CACA;AACA,MAAOC,UAAP,KAAsB,uBAAtB,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA;AACA,MAAO,qBAAP,C,wFAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAExB,GAAMC,OAAM,CAAGL,MAAM,EAArB,CACA,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAA4CT,QAAQ,CAAC,mCAAD,CAApD,yCAAOU,cAAP,eAAuBC,iBAAvB,eACA,eAAsCX,QAAQ,CAAC,IAAD,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eACA,eAA0Bb,QAAQ,CAAC,KAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eAEAd,SAAS,CAAC,UAAM,CACZe,aAAa,GAChB,CAFQ,CAEN,CAACN,cAAD,CAFM,CAAT,CAIAO,KAAK,CAAG,CACJC,IAAI,CAAE,EADF,CAEJC,QAAQ,CAAE,EAFN,CAGJC,YAAY,CAAE,EAHV,CAIJC,YAAY,CAAE,IAJV,CAKJC,cAAc,CAAE,KALZ,CAAR,CASI,GAAMJ,KAAI,CAAG,KAAb,CAEA,GAAMK,IAAG,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA5B,CACA,GAAMN,aAAY,CAAGG,GAAG,CAACI,KAAJ,CAAU,GAAV,EAAeJ,GAAG,CAACI,KAAJ,CAAU,GAAV,EAAeC,MAAf,CAAwB,CAAvC,CAArB,CACAC,OAAO,CAACC,GAAR,CAAYV,YAAZ,EACA,GAAMW,WAAU,6CAAwCX,YAAxC,KAAhB,CACAS,OAAO,CAACC,GAAR,CAAYC,UAAZ,EACA,GAAMZ,SAAQ,0EAAqEC,YAArE,iBAAd,CAEA,KAAI,CAACY,QAAL,CAAc,CAAEd,IAAI,CAAJA,IAAF,CAAQC,QAAQ,CAARA,QAAR,CAAkBC,YAAY,CAAZA,YAAlB,CAAgCW,UAAU,CAAVA,UAAhC,CAAd,EAKJ,GAAMf,cAAa,4FAAG,wLAEKlB,MAAK,CAACmC,GAAN,CAAUvB,cAAV,CAFL,QAEZwB,QAFY,eAGZC,OAHY,CAGDX,MAAM,CAACC,QAAP,CAAgBC,IAHf,CAKlBG,OAAO,CAACC,GAAR,CAAYK,OAAZ,EACAN,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsB,CAAtB,EAAyBd,GAArC,EANkB,sBAOIe,QAAO,CAACC,GAAR,CAAYL,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsBG,GAAtB,CAA0B,SAAAC,GAAG,QAAI3C,MAAK,CAACmC,GAAN,CAAUQ,GAAG,CAAClB,GAAd,CAAJ,EAA7B,CAAZ,CAPJ,QAOZc,OAPY,eAQlBR,OAAO,CAACC,GAAR,CAAYO,OAAO,CAAC,CAAD,CAAnB,EAEAxB,cAAc,CAACqB,QAAQ,CAACE,IAAT,CAAcM,IAAf,CAAd,CACA3B,QAAQ,CAAC,KAAD,CAAR,CACAN,WAAW,CAAC,SAAAkC,eAAe,CAAI,CAC3B,mCACOA,eADP,qBAEON,OAAO,CAACG,GAAR,CAAY,SAAAC,GAAG,QACd,CACIG,EAAE,CAAEH,GAAG,CAACL,IAAJ,CAASQ,EADjB,CAEI1B,IAAI,CAAGuB,GAAG,CAACL,IAAJ,CAASlB,IAFpB,CAGI2B,GAAG,CAAEJ,GAAG,CAACL,IAAJ,CAASU,OAAT,CAAiBC,KAAjB,CAAuBC,WAAvB,CAAmCC,aAH5C,CAIIC,SAAS,CAAGT,GAAG,CAACL,IAAJ,CAASc,SAJzB,CAKIC,KAAK,CAAGV,GAAG,CAACL,IAAJ,CAASe,KALrB,CAMIC,MAAM,CAAGX,GAAG,CAACL,IAAJ,CAASgB,MANtB,CAOIC,MAAM,CAAGZ,GAAG,CAACL,IAAJ,CAASiB,MAPtB,CAQIC,KAAK,CAAGb,GAAG,CAACL,IAAJ,CAASkB,KARrB,CASIC,KAAK,CAAGd,GAAG,CAACL,IAAJ,CAASmB,KATrB,CAUIC,OAAO,CAAGf,GAAG,CAACL,IAAJ,CAASoB,OAVvB,CAWIC,eAAe,CAAGhB,GAAG,CAACL,IAAJ,CAASqB,eAX/B,CADc,EAAf,CAFP,GAkBH,CAnBU,CAAX,CAZkB,uDAAH,kBAAbzC,cAAa,0CAAnB,CAiCA,mBAEI,YAAK,SAAS,CAAG,gBAAjB,UACKR,QAAQ,CAACgC,GAAT,CAAa,SAAAkB,OAAO,qBACjB,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,oBAAf,uBACI,YAAK,SAAS,CAAG,UAAjB,CAA4B,GAAG,CAAEA,OAAO,CAACb,GAAzC,CAA8C,GAAG,CAAC,SAAlD,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,qBAAf,uBACI,WAAI,SAAS,CAAG,WAAhB,UAA8Ba,OAAO,CAACxC,IAAtC,EADJ,EAJJ,GAAiCwC,OAAO,CAACd,EAAzC,CADiB,EAApB,CADL,EAFJ,CAiBH,CArFD,CAwFA,cAAetC,cAAf"},"metadata":{},"sourceType":"module"}