{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation,useNavigate,Link}from'react-router-dom';import axios from'axios';import React,{useState,useEffect,useRef}from'react';import About from'./About/About';//import Stats from './Stats/Stats'\nimport Evolution from'./Evolution/Evolution';import Moves from'./Moves/Moves';//import TitleComponent from './TitleComponent'\nimport'./PokemonDetail.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PokemonDetail=function PokemonDetail(){var search=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemon=_useState2[0],setPokemon=_useState2[1];var _useState3=useState(\"https://pokeapi.co/api/v2/pokemon\"),_useState4=_slicedToArray(_useState3,1),currentPageUrl=_useState4[0];var pageUrl=window.location.href;var pokemonIndex=pageUrl.split(\"/\")[pageUrl.split(\"/\").length-1];var id=pokemonIndex-1;console.log(pageUrl);useEffect(function(){fetchPokemon();},[currentPageUrl]);var fetchPokemon=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(currentPageUrl);case 2:response=_context.sent;console.log(response.data.results[id].url);_context.next=6;return Promise.all(response.data.results.map(function(res){return axios.get(res.url);}));case 6:results=_context.sent;console.log(results[id]);setPokemon(function(currentPokemon){return[currentPokemon,results.map(function(res){return{id:res.data.id,name:res.data.name,img:res.data.sprites.other.dream_world.front_default,abilities:res.data.abilities,types:res.data.types,height:res.data.height,weight:res.data.weight,moves:res.data.moves,stats:res.data.stats,species:res.data.species,base_experience:res.data.base_experience};})];});case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchPokemon(){return _ref.apply(this,arguments);};}();var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),flavorText=_useState6[0],setFlavorText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){setLoading(true);var fetchFlavorText=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var resposne,enText;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(pokemon[0].species.url);case 2:resposne=_context2.sent;_context2.next=5;return resposne.data.flavor_text_entries.filter(function(text){return text.language.name===\"en\";});case 5:enText=_context2.sent;setLoading(false);setFlavorText(enText);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchFlavorText(){return _ref2.apply(this,arguments);};}();fetchFlavorText();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",state:\"\",children:\"Back to Home\"}),/*#__PURE__*/_jsx(\"div\",{className:\"poke-single\",children:pokemon.map(function(poke){return/*#__PURE__*/_jsxs(\"div\",{className:\"about-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Base Experience : \"}),/*#__PURE__*/_jsx(\"small\",{children:poke.base_experience})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Height : \"}),/*#__PURE__*/_jsxs(\"small\",{children:[poke.height*10,\" cm\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Weight : \"}),/*#__PURE__*/_jsxs(\"small\",{children:[poke.weight/10,\" kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Abilities : \"}),/*#__PURE__*/_jsx(\"div\",{children:poke.abilities.map(function(ability){return/*#__PURE__*/_jsxs(\"small\",{children:[ability.ability.name,\", \"]},ability.ability.name);})})]})]},poke.id);})})]});};export default PokemonDetail;","map":{"version":3,"names":["useLocation","useNavigate","Link","axios","React","useState","useEffect","useRef","About","Evolution","Moves","PokemonDetail","search","pokemon","setPokemon","currentPageUrl","pageUrl","window","location","href","pokemonIndex","split","length","id","console","log","fetchPokemon","get","response","data","results","url","Promise","all","map","res","currentPokemon","name","img","sprites","other","dream_world","front_default","abilities","types","height","weight","moves","stats","species","base_experience","flavorText","setFlavorText","loading","setLoading","fetchFlavorText","resposne","flavor_text_entries","filter","text","language","enText","poke","ability"],"sources":["/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/src/Components/PokmonDetail/PokemonDetail.js"],"sourcesContent":["\nimport {useLocation, useNavigate, Link} from 'react-router-dom'\nimport axios from 'axios';\nimport React, {useState, useEffect, useRef} from 'react'\n\nimport About from './About/About'\n//import Stats from './Stats/Stats'\nimport Evolution from './Evolution/Evolution'\nimport Moves from './Moves/Moves'\n//import TitleComponent from './TitleComponent'\nimport './PokemonDetail.css'\n\nconst PokemonDetail = () => {\n    \n\n\n    const search = useRef()\n    const [pokemon, setPokemon] = useState([])\n    const [currentPageUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\")\n\n    const pageUrl =  window.location.href;\n    const pokemonIndex = pageUrl.split(\"/\")[pageUrl.split(\"/\").length - 1];\n\n    const id = pokemonIndex - 1\n    console.log(pageUrl);\n    \n\n    useEffect(() => {\n        fetchPokemon()\n    }, [currentPageUrl])\n\n\n\n    const fetchPokemon = async () => {\n\n        const response = await axios.get(currentPageUrl)\n        console.log(response.data.results[id].url);\n\n        const results = await Promise.all(response.data.results.map(res => axios.get(res.url)))\n        console.log(results[id]);\n\n        \n     \n        setPokemon(currentPokemon => {\n            return [\n                currentPokemon,\n                results.map(res => (\n                    {\n                        id: res.data.id,\n                        name : res.data.name,\n                        img: res.data.sprites.other.dream_world.front_default,\n                        abilities : res.data.abilities,\n                        types : res.data.types,\n                        height : res.data.height,\n                        weight : res.data.weight,\n                        moves : res.data.moves,\n                        stats : res.data.stats,\n                        species : res.data.species,\n                        base_experience : res.data.base_experience\n                    }\n                ))\n            ]\n            \n        }\n        )\n\n        \n    }\n\n    const [flavorText, setFlavorText] = useState([])\n    const [loading, setLoading] = useState(false)\n\n    useEffect(() => {\n        setLoading(true)\n        const fetchFlavorText = async () => {\n            const resposne = await axios.get(pokemon[0].species.url)\n            const enText = await resposne.data.flavor_text_entries.filter(text => text.language.name === \"en\")\n            setLoading(false)\n            setFlavorText(enText)\n        }\n        fetchFlavorText()\n    },[])\n\n    return (\n        <>\n        <Link to=\"/\" state={\"\"}>Back to Home</Link>\n        <div className = \"poke-single\" >\n            \n                 {pokemon.map(poke => (\n                    <div key={poke.id} className=\"about-info\">\n                        <div className=\"info\">\n                            <h5>Base Experience : </h5>\n                            <small>{poke.base_experience}</small>\n                        </div>\n                        <div className=\"info\">\n                            <h5>Height : </h5>\n                            <small>{poke.height * 10} cm</small>\n                        </div>\n                        <div className=\"info\">\n                            <h5>Weight : </h5>\n                            <small>{poke.weight / 10} kg</small>\n                        </div>    \n                        <div className=\"info\">\n                            <h5>Abilities : </h5>\n                            <div>\n                                {poke.abilities.map(ability => (\n                                    <small key={ability.ability.name}>{ability.ability.name}, </small>\n                                ))}  \n                            </div>\n                        </div>\n                    </div>\n                ))}\n            \n        </div>\n        </>\n    )\n}\n\n\nexport default PokemonDetail\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}