{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation,useNavigate,Link}from'react-router-dom';import axios from'axios';import React,{useState,useEffect,useRef}from'react';import About from'./About/About';//import Stats from './Stats/Stats'\nimport Evolution from'./Evolution/Evolution';import Moves from'./Moves/Moves';//import TitleComponent from './TitleComponent'\nimport'./PokemonDetail.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PokemonDetail=function PokemonDetail(){useEffect(function(){fetchPokemon();},[currentPageUrl]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemon=_useState2[0],setPokemon=_useState2[1];var _useState3=useState(\"https://pokeapi.co/api/v2/pokemon\"),_useState4=_slicedToArray(_useState3,1),currentPageUrl=_useState4[0];var pageUrl=window.location.href;var pokemonIndex=pageUrl.split(\"/\")[pageUrl.split(\"/\").length-1];var id=pokemonIndex;var fetchPokemon=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,results,promiseArr,resolvedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(currentPageUrl);case 2:response=_context.sent;console.log(response.data.results[id].url);_context.next=6;return Promise.all(response.data.results.map(function(res){return axios.get(res.url);}));case 6:results=_context.sent;console.log(results[id]);promiseArr=[];_context.t0=promiseArr;_context.next=12;return fetch(\"https://pokeapi.co/api/v2/pokemon/\".concat(id));case 12:_context.t1=_context.sent.json();_context.t0.push.call(_context.t0,_context.t1);_context.next=16;return Promise.all(promiseArr);case 16:resolvedData=_context.sent;/*return resolvedData.map((item) => {\n            return {\n              id: item.id,\n              name: item.name,\n              sprite: item.sprites.front_default,\n              ability: item.abilities[0].ability.name,\n            };\n          });*/console.log(resolvedData);setPokemon(function(currentPokemon){return[currentPokemon,resolvedData.map(function(item){return{id:item.id,name:item.name,sprite:item.sprites.front_default,ability:item.abilities[0].ability.name};})];});/*setPokemon((currentPokemon) => {\n            return [\n                currentPokemon,\n                resolvedData.map(res => (\n                    {\n                        id: res.data.id,\n                        name : res.data.name,\n                        img: res.data.sprites.other.dream_world.front_default,\n                        abilities : res.data.abilities,\n                        types : res.data.types,\n                        height : res.data.height,\n                        weight : res.data.weight,\n                        moves : res.data.moves,\n                        stats : res.data.stats,\n                        species : res.data.species,\n                        base_experience : res.data.base_experience\n                    }\n                ))\n            ]\n            \n        }\n        \n        )*/case 19:case\"end\":return _context.stop();}}},_callee);}));return function fetchPokemon(){return _ref.apply(this,arguments);};}();console.log(pokemon);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",state:\"\",children:\"Back to Home\"}),/*#__PURE__*/_jsx(\"div\",{className:\"poke-single\",children:pokemon.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"poke-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"poke-name-container\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"poke-name\",children:item.name})})});})})]});};export default PokemonDetail;","map":{"version":3,"names":["useLocation","useNavigate","Link","axios","React","useState","useEffect","useRef","About","Evolution","Moves","PokemonDetail","fetchPokemon","currentPageUrl","pokemon","setPokemon","pageUrl","window","location","href","pokemonIndex","split","length","id","get","response","console","log","data","results","url","Promise","all","map","res","promiseArr","fetch","json","push","resolvedData","currentPokemon","item","name","sprite","sprites","front_default","ability","abilities"],"sources":["/Users/macada/Documents/4aaa private/LearningReact/pokewannabe/src/Components/PokmonDetail/PokemonDetail.js"],"sourcesContent":["\nimport {useLocation, useNavigate, Link} from 'react-router-dom'\nimport axios from 'axios';\nimport React, {useState, useEffect, useRef} from 'react'\n\nimport About from './About/About'\n//import Stats from './Stats/Stats'\nimport Evolution from './Evolution/Evolution'\nimport Moves from './Moves/Moves'\n//import TitleComponent from './TitleComponent'\nimport './PokemonDetail.css'\n\nconst PokemonDetail = () => {\n    \n    useEffect(() => {\n        fetchPokemon()\n    }, [currentPageUrl])\n\n\n    const [pokemon, setPokemon] = useState([])\n    const [currentPageUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\")\n\n    const pageUrl =  window.location.href;\n    const pokemonIndex = pageUrl.split(\"/\")[pageUrl.split(\"/\").length - 1];\n\n    const id = pokemonIndex\n  \n    const fetchPokemon = async () => {\n\n        const response = await axios.get(currentPageUrl)\n        console.log(response.data.results[id].url);\n\n        const results = await Promise.all(response.data.results.map(res => axios.get(res.url)))\n        console.log(results[id]);\n        \n        const promiseArr = [];\n        promiseArr.push(\n            (await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`)).json()\n          );\n        const resolvedData = await Promise.all(promiseArr);\n        /*return resolvedData.map((item) => {\n            return {\n              id: item.id,\n              name: item.name,\n              sprite: item.sprites.front_default,\n              ability: item.abilities[0].ability.name,\n            };\n          });*/\n        console.log(resolvedData);\n\n        setPokemon((currentPokemon) => {\n            return [\n                currentPokemon,\n                resolvedData.map(item => ({\n                     \n                      id: item.id,\n                      name: item.name,\n                      sprite: item.sprites.front_default,\n                      ability: item.abilities[0].ability.name,\n                    }\n                  ))\n            ]\n            \n        }\n        \n        )\n        /*setPokemon((currentPokemon) => {\n            return [\n                currentPokemon,\n                resolvedData.map(res => (\n                    {\n                        id: res.data.id,\n                        name : res.data.name,\n                        img: res.data.sprites.other.dream_world.front_default,\n                        abilities : res.data.abilities,\n                        types : res.data.types,\n                        height : res.data.height,\n                        weight : res.data.weight,\n                        moves : res.data.moves,\n                        stats : res.data.stats,\n                        species : res.data.species,\n                        base_experience : res.data.base_experience\n                    }\n                ))\n            ]\n            \n        }\n        \n        )*/\n   \n           \n       \n\n        \n    }\n    console.log(pokemon);\n    \n    return (\n        <>\n        <Link to=\"/\" state={\"\"}>Back to Home</Link>\n        <div className = \"poke-single\" >\n            \n            {pokemon.map(item => (\n                <div className=\"poke-card\">\n                \n                    <div className=\"poke-name-container\">\n                        <h4 className = \"poke-name\" >{item.name}</h4>\n                    </div>\n                </div>\n                \n            ))}\n            \n        </div>\n        </>\n    )\n}\n\n\nexport default PokemonDetail\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}